<script>
  document.addEventListener('touchstart', handleTouchStart, false);
  document.addEventListener('touchmove', handleTouchMove, false);

  let xStart = null;
  let yStart = null;

  function handleTouchStart(evt) {
      xStart = evt.touches[0].clientX;
      yStart = evt.touches[0].clientY;
  }

  function handleTouchMove(evt) {
      if (!xStart || !yStart) return;
      
      let xEnd = evt.touches[0].clientX;
      let yEnd = evt.touches[0].clientY;
      
      let xDiff = xEnd - xStart;
      let yDiff = yEnd - yStart;

      if (Math.abs(xDiff) > Math.abs(yDiff)) {
          if (xDiff > 0) { // Swipe Right
              snake.dx = grid; snake.dy = 0;
          } else { // Swipe Left
              snake.dx = -grid; snake.dy = 0;
          }
      } else {
          if (yDiff > 0) { // Swipe Down
              snake.dy = grid; snake.dx = 0;
          } else { // Swipe Up
              snake.dy = -grid; snake.dx = 0;
          }
      }

      xStart = null;
      yStart = null;
  }
</script>
